<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="../../res/images/logo/logo.png" type="image/x-icon" />
        <link rel="shortcut icon" href="../../res/images/logo/logo.png" type="image/x-icon"/>
        <title>canvas学习-transform</title>

        <style>
            *{margin:0;padding: 0}
            body{overflow: hidden}
        </style>
    </head>
    <body>

        <canvas id="canvas">您的浏览器不支持canvas！</canvas>

        <script>
            //
            let can = document.getElementById('canvas');
            let ctx = can.getContext('2d');
            //
            can.width = window.innerWidth;
            can.height = window.innerHeight;
            can.style.backgroundColor = '#999';

            if (true) {
                ctx.save();
                ctx.translate(window.innerWidth/2-50, window.innerHeight/2-50);
                // 后
                ctx.save();
                ctx.transform(1, -0.05, 0, 1, 0, 0);
                ctx.globalAlpha = 0.3;
                ctx.fillRect(0,0,100,100);
                ctx.restore();
                //左
                ctx.save();
                ctx.transform(0.3, 0.5, 0, 1, 0, 0);
                ctx.globalAlpha = 0.4;
                ctx.fillRect(0,0,100,100);
                ctx.restore();
                // 右
                ctx.save();
                ctx.transform(0.3, 0.5, 0, 1, 97, -20);
                ctx.globalAlpha = 0.4;
                ctx.fillRect(10,10,100,100);
                ctx.restore();
                // 前
                ctx.save();
                ctx.transform(1, -0.05, 0, 1, 20, 40);
                ctx.globalAlpha = 0.6;
                ctx.fillRect(10,10,100,100);
                ctx.restore();
                // 上
                ctx.save();
                ctx.transform(1, -0.053, 0.3, 0.48, -13, -2.6);
                ctx.globalAlpha = 0.5;
                ctx.fillRect(10,10,100,100);
                ctx.restore();
                ctx.restore();

                ctx.setTransform(1,0,0,-1.5,0,window.innerHeight);
                ctx.transform(1,0,0,1,0,0);
                ctx.resetTransform();

                ctx.translate(110, 110);
                ctx.rotate(0 * Math.PI/180);
                ctx.fillRect(-50,-50,100,100)
            }


            // 黄色矩形
            if (!true) {
                ctx.fillStyle = "yellow";
                ctx.fillRect(0, 0, 500, 500);
            }



            // 位移
            if (!true) {
                ctx.transform(1, 0, 0, 1, 200, 200);
                ctx.fillStyle = "red";
                ctx.fillRect(0, 0, 500, 500);
            }

            // 缩放
            if (!true) {
                ctx.transform(0.5, 0, 0, 0.5, 0, 0);
                ctx.fillStyle = "red";
                ctx.fillRect(0, 0, 500, 500);
            }

            //
            if (!true) {
                ctx.transform(2*Math.cos(deg*45),Math.sin(deg*45),-Math.sin(deg*45),2*Math.cos(deg*45),0,0);
                ctx.fillStyle = "red";
                ctx.fillRect(0, 0, 500, 500);
            }
            // ctx.transform(1, 0.5, -0.5, 1, 30, 10);
            // ctx.fillStyle = "blue";
            // ctx.fillRect(0,0,250,100);

        </script>
    </body>
</html>