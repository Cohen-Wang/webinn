<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="icon" href="./res/images/ico/logo_16x16.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="./res/images/ico/logo_16x16.ico" type="image/x-icon"/>
        <title>Javascript Date对象 - 详解</title>
        <link rel="stylesheet" href="./css/lib/bootstrap.min.css">
    </head>
    <body>
        <div class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <strong>
                        <a href="../../index.html" class="navbar-brand">HOME</a>
                    </strong>
                </div>
            </div>
        </div>

        <div class="container" id="date" style="margin-bottom: 200px;">
            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        get
                    </div>
                    <div class="panel-body">
                        <div class="col-md-6">
                            <blockquote>
                                <p>本地时间</p>
                            </blockquote>
                            <ul class="list-group">
                                <li class="list-group-item">new Date()<span class="pull-right" v-text="nowDate"></span></li><!--为了触发，这里必须有一个调用 此变量-->
                                <li class="list-group-item">new Date().getFullYear()<span class="pull-right" v-text="new Date().getFullYear() + '年'"></span></li>
                                <li class="list-group-item">new Date().getYear()：已淘汰<span class="pull-right" v-text="new Date().getYear() + '年'"></span></li>
                                <li class="list-group-item">new Date().getMonth() + 1<span class="pull-right" v-text="new Date().getMonth() + 1 + '月'"></span></li>
                                <li class="list-group-item">new Date().getDate()<span class="pull-right" v-text="new Date().getDate() + '日'"></span></li>
                                <li class="list-group-item">new Date().getDay()<span class="pull-right" v-text="new Date().getDay() + '星期'"></span></li>
                                <li class="list-group-item">new Date().getHours()<span class="pull-right" v-text="new Date().getHours() + '时'"></span></li>
                                <li class="list-group-item">new Date().getMinutes()<span class="pull-right" v-text="new Date().getMinutes() + '分'"></span></li>
                                <li class="list-group-item">new Date().getSeconds()<span class="pull-right" v-text="new Date().getSeconds() + '秒'"></span></li>
                                <li class="list-group-item">new Date().getMilliseconds()<span class="pull-right" v-text="new Date().getMilliseconds() + '毫秒'"></span></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <blockquote>
                                <p>UTC</p>
                            </blockquote>
                            <ul class="list-group">
                                <li class="list-group-item">new Date()<span class="pull-right" v-text="new Date()"></span></li>
                                <li class="list-group-item">new Date().getUTCFullYear()<span class="pull-right" v-text="new Date().getUTCFullYear() + '年'"></span></li>
                                <li class="list-group-item">...<span class="pull-right"></span></li>
                                <li class="list-group-item">new Date().getUTCMonth() + 1<span class="pull-right" v-text="new Date().getUTCMonth() + 1 + '月'"></span></li>
                                <li class="list-group-item">new Date().getUTCDate()<span class="pull-right" v-text="new Date().getUTCDate() + '日'"></span></li>
                                <li class="list-group-item">new Date().getUTCDay()<span class="pull-right" v-text="new Date().getUTCDay() + '星期'"></span></li>
                                <li class="list-group-item">new Date().getUTCHours() <b class="text-danger">UTC时间主要区别</b><span class="pull-right" v-text="new Date().getUTCHours() + '时'"></span></li>
                                <li class="list-group-item">new Date().getUTCMinutes()<span class="pull-right" v-text="new Date().getUTCMinutes() + '分'"></span></li>
                                <li class="list-group-item">new Date().getSeconds()<span class="pull-right" v-text="new Date().getUTCSeconds() + '秒'"></span></li>
                                <li class="list-group-item">new Date().getUTCMilliseconds()<span class="pull-right" v-text="new Date().getUTCMilliseconds() + '毫秒'"></span></li>
                            </ul>
                        </div>
                        <div class="col-md-12">
                            <ul class="list-unstyled">
                                <li>1.UTC:(Coordinated Universal Time 协调世界时)由于英文（CUT）和法文（TUC）的缩写不同，作为妥协，简称UTC</li>
                                <li>2.中国大陆、中国香港、中国澳门、中国台湾、蒙古国、新加坡、马来西亚、菲律宾、西澳大利亚州的时间与UTC的时差均为+8，也就是UTC+8。</li>
                                <li>3.北京时间=UTC+8=GMT+8</li>
                            </ul>

                            <ul class="list-unstyled">
                                <li>1.G.M.T.(Greenwich Mean Time)格林尼治时间</li>
                                <li>2.北京时间=GMT时间+8小时。GMT指的是格林威治中央区时，北京位于东八区，也就是北京的地方时比中央时区的地方时早8小时。</li>
                                <li>3.北京时间=UTC+8=GMT+8</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        时间戳 转 字符串
                    </div>
                    <div class="panel-body">
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li class="list-group-item">new Date()<span class="pull-right" v-text="nowDate"></span></li><!--为了触发，这里必须有一个调用 此变量-->
                                <li class="list-group-item">new Date().toString()<span class="pull-right" v-text="new Date().toString()"></span></li>
                                <li class="list-group-item">...<span class="pull-right">...</span></li>
                                <li class="list-group-item">...<span class="pull-right">...</span></li>
                                <li class="list-group-item">new Date().toDateString()<span class="pull-right" v-text="new Date().toDateString()"></span></li>
                                <li class="list-group-item">new Date().toTimeString()<span class="pull-right" v-text="new Date().toTimeString()"></span></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li class="list-group-item">new Date()<span class="pull-right" v-text="nowDate"></span></li><!--为了触发，这里必须有一个调用 此变量-->
                                <li class="list-group-item">new Date().toGMTString() <b class="text-danger">淘汰</b> <span class="pull-right" v-text="new Date().toGMTString()"></span></li>
                                <li class="list-group-item">new Date().toUTCString()<span class="pull-right" v-text="new Date().toUTCString()"></span></li>
                                <li class="list-group-item">new Date().toLocaleString()<span class="pull-right" v-text="new Date().toLocaleString()"></span></li>
                                <li class="list-group-item">new Date().toLocaleDateString()<span class="pull-right" v-text="new Date().toLocaleDateString()"></span></li>
                                <li class="list-group-item">new Date().toLocaleTimeString()<span class="pull-right" v-text="new Date().toLocaleTimeString()"></span></li>
                                <li class="list-group-item">new Date().toISOString()<span class="pull-right" v-text="new Date().toISOString()"></span></li>
                                <li class="list-group-item">new Date().toJSON()<span class="pull-right" v-text="new Date().toJSON()"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        时间戳
                    </div>
                    <div class="panel-body">
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li class="list-group-item">new Date()<span class="pull-right" v-text="nowDate"></span></li><!--为了触发，这里必须有一个调用 此变量-->
                                <li class="list-group-item">new Date().getTime()<span class="pull-right" v-text="new Date().getTime()"></span></li>
                                <li class="list-group-item">new Date().valueOf()<span class="pull-right" v-text="new Date().valueOf()"></span></li>
                                <li class="list-group-item">new Date().getTimezoneOffset() <b class="text-danger">本地时与 GMT 的分钟差</b> <span class="pull-right" v-text="new Date().getTimezoneOffset()"></span></li>
                                <li class="list-group-item">Date.parse(new Date()) <b class="text-danger">毫秒数000</b> <span class="pull-right" v-text="Date.parse(new Date())"></span></li>
                                <li class="list-group-item">Date.toSource()  <span class="pull-right" v-text=""></span></li>
                                <li class="list-group-item">Date.UTC(2019, 1, 1, 1, 1, 1) <span class="pull-right" v-text="Date.UTC(2019, 1, 1, 1, 1, 1)"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        给一个【时间戳】分别求【各个单位】
                    </div>
                    <div class="panel-body">
                        <div class="col-md-12">
                            <ul class="list-group">
                                <li class="list-group-item"> <b class="text-info">传参0 ： </b> new Date(0)<span class="pull-right" v-text="new Date(0)"></span></li>
                                <li class="list-group-item">new Date(1548972615678).toLocaleDateString()<span class="pull-right" v-text="new Date().toLocaleDateString()"></span></li>
                                <li class="list-group-item">new Date(1548972615678).toLocaleDateString().replace(/\//g, '-')<span class="pull-right" v-text="new Date(1548972615678).toLocaleDateString().replace(/\//g, '-')"></span></li>
                                <li class="list-group-item">new Date(1548972615678).toLocaleDateString().replace(/\//g, '-').replace(/(?&lt;!\d+)(\d{1})(?!\d+)/g, '0$1')<span class="pull-right" v-text="new Date(1548972615678).toLocaleDateString().replace(/\//g, '-').replace(/(?<!\d+)(\d{1})(?!\d+)/g, '0$1')"></span></li>
                                <li class="list-group-item">new Date(1548972615678).toTimeString()<span class="pull-right" v-text="new Date(1548972615678).toTimeString()"></span></li>
                                <li class="list-group-item">new Date(1548972615678).toTimeString().substr(0, 8)<span class="pull-right" v-text="new Date(1548972615678).toTimeString().substr(0, 8)"></span></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        各种【日期格式】，求时间戳
                    </div>
                    <div class="panel-body">
                        <div class="col-md-12">
                            <ul class="list-group">
                                <li class="list-group-item">new Date(1970, 0, 1, 8, 0, 0, 0).getTime()<span class="pull-right" v-text="new Date(1970, 0, 1, 8, 0, 0, 0).getTime()"></span></li>
                                <li class="list-group-item">new Date(1985, 3, 17, 18, 30, 0, 0).getTime()<span class="pull-right" v-text="new Date(1985, 3, 17, 18, 30, 0, 0).getTime()"></span></li>
                                <li class="list-group-item">new Date(2019, 1, 1, 6, 10, 15, 678).getTime()<span class="pull-right" v-text="new Date(2019, 1, 1, 6, 10, 15, 678).getTime()"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        format
                    </div>
                    <div class="panel-body">
                        <div class="col-md-12">
                            <ul class="list-group">
                                <li class="list-group-item">(new Date()).Format("yyyy-MM-dd hh:mm:ss")<span class="pull-right" v-text="(new Date()).Format('yyyy-MM-dd hh:mm:ss')"></span></li>
                                <li class="list-group-item">(new Date()).Format("yyyy-M-d h:m:s")<span class="pull-right" v-text="(new Date()).Format('yyyy-M-d h:m:s')"></span></li>

                            </ul>
                        </div>
                        <div class="col-md-12">
                            <pre>
// 对Date的扩展，将 Date 转化为指定格式的String
// 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
// 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
Date.prototype.Format = function (fmt) { //author: meizz
    var o = {
        "M+": this.getMonth() + 1, //月份
        "d+": this.getDate(), //日
        "h+": this.getHours(), //小时
        "m+": this.getMinutes(), //分
        "s+": this.getSeconds(), //秒
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
}
                            </pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        实战操作
                    </div>
                    <div class="panel-body">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>日期：</label>
                                <input type="date" class="form-control" v-model="inputDate">
                            </div>
                            <ul class="list-group">
                                <li class="list-group-item">原始数据：<b class="pull-right text-success" v-text="inputDate"></b></li>
                                <li class="list-group-item">时间戳：<b class="pull-right text-success" v-text="inputDate_timestamp"></b></li>
                                <li class="list-group-item">转为'/'：<b class="pull-right text-success" v-text="inputDate.replace(/-/g, '\/')"></b></li>

                            </ul>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label>时间：</label>
                                <input type="time" class="form-control" v-model="inputTime">
                            </div>
                            <ul class="list-group">
                                <li class="list-group-item">原始数据：<b class="pull-right text-success" v-text="inputTime"></b></li>
                                <li class="list-group-item">时间戳：<b class="pull-right text-success" v-text="inputDate_timestamp"></b></li>
                                <li class="list-group-item">转为'-'：<b class="pull-right text-success" v-text="inputTime.replace(/:/g, '-')"></b></li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="./js/lib/vue.min.js"></script>
        <script>

            let vm = new Vue({
                el : "#date",
                data : {
                    nowDate : new Date(),
                    setDate : new Date(),
                    //
                    inputDate : "2019-01-01",
                    inputTime : "00:00",

                },
                computed : {

                    inputDate_timestamp : function () {
                        let arr = this.inputDate.split("-").concat(this.inputTime.split(":"));
                        let d = new Date(parseInt(arr[0]), parseInt(arr[1]) - 1, parseInt(arr[2]), parseInt(arr[3]), parseInt(arr[4]), 0);// ❤最后秒，给0
                        return d.getTime();
                    },
                },
                methods : {
                    // 每秒获取时间
                    getNowTime : function () {
                        let _this = this;
                        let timer = window.setInterval(function () {
                            _this.nowDate = new Date();
                        })
                    },
                },
                created : function () {
                    //
                    this.getNowTime();
                },
            });


            // 对Date的扩展，将 Date 转化为指定格式的String
            // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
            // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
            Date.prototype.Format = function (fmt) { //author: meizz
                var o = {
                    "M+": this.getMonth() + 1, //月份
                    "d+": this.getDate(), //日
                    "h+": this.getHours(), //小时
                    "m+": this.getMinutes(), //分
                    "s+": this.getSeconds(), //秒
                    "q+": Math.floor((this.getMonth() + 3) / 3), //季度
                    "S": this.getMilliseconds() //毫秒
                };
                if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
                for (var k in o)
                    if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
                return fmt;
            }

        </script>
    </body>
</html>