<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="icon" href="./res/images/ico/logo_16x16.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="./res/images/ico/logo_16x16.ico" type="image/x-icon"/>
        <title>JSON.stringify</title>
        <link rel="stylesheet" href="./css/bootstrap.min.css">
    </head>
    <body style="background-color: #000;">
        <div class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <strong>
                        <a href="../../index.html" class="navbar-brand">HOME</a>
                    </strong>
                </div>
            </div>
        </div>

        <div id="jsonTest">
            <div class="container">
                <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div>
                                <p><b class="text-danger">obj：</b></p>
                                <pre v-text="obj"></pre>
                            </div>
                            <div>
                                <p><b class="text-danger">JSON.stringify(obj)：</b></p>
                                <pre v-text="str1"></pre>
                            </div>
                            <div>
                                <p><b class="text-danger">JSON.stringify(obj, null, '\t')：</b></p>
                                <pre v-text="str2"></pre>
                            </div>
                            <div>
                                <p>
                                    <button class="btn btn-default" @click="download()">下载</button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="./js/lib/vue.min.js"></script>
        <script src="./js/lib/download.js"></script>
        <script>
            let vm = new Vue({
                el : "#jsonTest",
                data : {
                    obj : {
                        name : "cohen",
                        age : 23,
                        school : "西华师范大学",
                        major : {
                            "love" : ["red","blue","green"],
                            "show" : "USA",
                        }
                    },

                },
                computed : {
                    str1 : function () {
                        return JSON.stringify(this.obj);
                    },

                    str2 : function () {
                        return JSON.stringify(this.obj, null, '\t');
                    },
                },
                methods : {
                    download : function () {
                        window.download(this.str2, 'test.txt');
                    },
                },
            })
        </script>
    </body>
</html>